<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üßß L√¨ X√¨ T·∫øt 2025</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700;900&family=Be+Vietnam+Pro:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root {
    --red: #C0392B;
    --red-deep: #96281B;
    --red-bright: #E74C3C;
    --gold: #F4C430;
    --gold-light: #FFE066;
    --gold-dark: #C9A227;
    --cream: #FFF8E7;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    min-height: 100vh;
    background: #1a0a00;
    font-family: 'Be Vietnam Pro', sans-serif;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow-x: hidden;
    position: relative;
  }

  .particles { position: fixed; inset: 0; pointer-events: none; overflow: hidden; z-index: 0; }
  .particle { position: absolute; animation: floatUp linear infinite; opacity: 0; }

  @keyframes floatUp {
    0%   { transform: translateY(100vh) rotate(0deg); opacity: 0; }
    10%  { opacity: 0.8; }
    90%  { opacity: 0.6; }
    100% { transform: translateY(-20vh) rotate(360deg); opacity: 0; }
  }

  .app {
    position: relative; z-index: 1;
    width: min(480px, 95vw);
    display: flex; flex-direction: column; align-items: center;
    gap: 1.5rem; padding: 2rem 1rem;
  }

  .header { text-align: center; }
  .header h1 {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2.2rem, 8vw, 3.2rem); font-weight: 900;
    color: var(--gold);
    text-shadow: 0 2px 4px rgba(0,0,0,0.5), 0 0 30px rgba(244,196,48,0.4);
    line-height: 1.1;
  }
  .header p {
    color: var(--gold-light); opacity: 0.8;
    font-size: 0.95rem; font-weight: 300;
    margin-top: 0.3rem; letter-spacing: 0.1em;
  }

  /* ‚îÄ‚îÄ Envelope ‚îÄ‚îÄ */
  .envelope-wrap { position: relative; cursor: pointer; user-select: none; }
  .envelope { width: 240px; height: 310px; position: relative; transition: transform 0.3s ease; }
  .envelope-wrap:hover .envelope { transform: scale(1.04) rotate(-1deg); }

  .envelope-body {
    width: 100%; height: 100%;
    background: linear-gradient(145deg, var(--red-bright), var(--red-deep));
    position: relative;
    box-shadow: 0 20px 60px rgba(192,57,43,0.6), 0 0 0 3px var(--gold), 0 0 40px rgba(244,196,48,0.15);
    overflow: hidden;
    display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 0.5rem;
  }
  .envelope-body::before {
    content: ''; position: absolute; inset: 0;
    background: radial-gradient(ellipse at 30% 20%, rgba(255,255,255,0.08), transparent 60%);
  }
  .envelope-pattern {
    position: absolute; inset: 0; pointer-events: none;
    background-image:
      repeating-linear-gradient(45deg, transparent, transparent 18px, rgba(244,196,48,0.04) 18px, rgba(244,196,48,0.04) 19px),
      repeating-linear-gradient(-45deg, transparent, transparent 18px, rgba(244,196,48,0.04) 18px, rgba(244,196,48,0.04) 19px);
  }

  /* Flap */
  .flap { position: absolute; top: 0; left: 0; width: 100%; height: 50%; transform-origin: top center; z-index: 5; transition: transform 0.6s cubic-bezier(0.4,0,0.2,1); }
  .flap svg { width: 100%; height: 100%; }
  .envelope.open .flap { transform: rotateX(180deg); }

  .envelope-deco { position: relative; z-index: 2; text-align: center; }
  .deco-char { font-size: 4.5rem; line-height: 1; filter: drop-shadow(0 3px 6px rgba(0,0,0,0.4)); }
  .deco-text {
    font-family: 'Playfair Display', serif; color: var(--gold);
    font-size: 1rem; font-weight: 700; letter-spacing: 0.15em;
    text-shadow: 0 2px 8px rgba(0,0,0,0.5); margin-top: 0.3rem;
  }

  /* ‚îÄ‚îÄ T·ªù ti·ªÅn tr∆∞·ª£t l√™n ‚îÄ‚îÄ */
  .money-card {
    position: absolute; bottom: -5px; left: 50%;
    transform: translateX(-50%) translateY(0);
    width: 90%; z-index: 3;
    border-radius: 10px; overflow: hidden;
    box-shadow: 0 8px 30px rgba(0,0,0,0.5);
    opacity: 0;
    transition: transform 0.8s cubic-bezier(0.34,1.56,0.64,1), opacity 0.4s;
  }
  .money-card.visible {
    transform: translateX(-50%) translateY(-118%);
    opacity: 1;
  }

  /*
   * ============================================================
   * ·∫¢NH T·ªú TI·ªÄN  ‚Äî  ch·ªâ c·∫ßn thay src c·ªßa <img id="banknoteImg">
   * ============================================================
   */
  #banknoteImg {
    width: 100%; height: auto; display: block;
  }

  /* ‚îÄ‚îÄ Panel ‚îÄ‚îÄ */
  .panel {
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(244,196,48,0.2);
    border-radius: 16px; padding: 1.2rem 1.5rem;
    width: 100%; backdrop-filter: blur(10px);
  }
  .panel-title {
    color: var(--gold); font-size: 0.75rem; font-weight: 600;
    letter-spacing: 0.15em; text-transform: uppercase; margin-bottom: 1rem; opacity: 0.8;
  }
  .amount-section { display: flex; flex-direction: column; gap: 0.6rem; margin-bottom: 1rem; }
  .amount-label { color: var(--cream); font-size: 0.85rem; font-weight: 300; opacity: 0.9; }
  .amount-row {
    display: flex; align-items: center; gap: 0.5rem;
    background: rgba(0,0,0,0.3); border: 1px solid rgba(244,196,48,0.3);
    border-radius: 10px; padding: 0.5rem 0.8rem; transition: border-color 0.2s;
  }
  .amount-row:focus-within { border-color: var(--gold); }
  .currency-symbol { color: var(--gold); font-weight: 600; font-size: 0.95rem; white-space: nowrap; flex-shrink: 0; }
  .amount-input {
    background: transparent; border: none; outline: none;
    color: var(--cream); font-size: 1.2rem;
    font-family: 'Playfair Display', serif; font-weight: 700;
    flex: 1; min-width: 0; text-align: right;
  }
  .quick-amounts { display: flex; gap: 0.4rem; flex-wrap: wrap; }
  .quick-btn {
    background: rgba(244,196,48,0.1); border: 1px solid rgba(244,196,48,0.25);
    color: var(--gold-light); border-radius: 8px; padding: 0.3rem 0.7rem;
    font-size: 0.78rem; cursor: pointer;
    font-family: 'Be Vietnam Pro', sans-serif; font-weight: 600;
    transition: all 0.2s; white-space: nowrap;
  }
  .quick-btn:hover, .quick-btn.active {
    background: rgba(244,196,48,0.25); border-color: var(--gold);
    color: var(--gold); transform: translateY(-1px);
  }
  .currency-section { margin-bottom: 1rem; }
  .select-row { display: flex; gap: 0.4rem; }
  .currency-chip {
    flex: 1; background: rgba(0,0,0,0.3);
    border: 1px solid rgba(244,196,48,0.2); color: var(--cream);
    border-radius: 8px; padding: 0.4rem 0.5rem;
    font-family: 'Be Vietnam Pro', sans-serif; font-size: 0.78rem; font-weight: 600;
    cursor: pointer; transition: all 0.2s; text-align: center;
  }
  .currency-chip.active { background: var(--red); border-color: var(--gold); color: var(--gold); }
  .message-section textarea {
    width: 100%; background: rgba(0,0,0,0.3);
    border: 1px solid rgba(244,196,48,0.2); border-radius: 10px;
    padding: 0.6rem 0.8rem; color: var(--cream);
    font-family: 'Be Vietnam Pro', sans-serif; font-size: 0.85rem;
    resize: none; height: 60px; outline: none; transition: border-color 0.2s;
  }
  .message-section textarea::placeholder { color: rgba(255,248,231,0.35); }
  .message-section textarea:focus { border-color: rgba(244,196,48,0.5); }
  .actions { display: flex; gap: 0.6rem; margin-top: 0.8rem; }
  .btn-open {
    flex: 2; background: linear-gradient(135deg, var(--gold), var(--gold-dark));
    color: var(--red-deep); border: none; border-radius: 10px;
    padding: 0.75rem 1rem; font-family: 'Be Vietnam Pro', sans-serif;
    font-size: 0.95rem; font-weight: 700; cursor: pointer; transition: all 0.2s;
  }
  .btn-open:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(244,196,48,0.4); }
  .btn-reset {
    flex: 1; background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.15); color: rgba(255,255,255,0.6);
    border-radius: 10px; padding: 0.75rem 0.8rem;
    font-family: 'Be Vietnam Pro', sans-serif; font-size: 0.85rem; cursor: pointer; transition: all 0.2s;
  }
  .btn-reset:hover { background: rgba(255,255,255,0.1); color: white; }

  /* Confetti */
  .confetti-wrap { position: fixed; inset: 0; pointer-events: none; z-index: 999; overflow: hidden; }
  .confetti-piece { position: absolute; top: -10px; opacity: 0; animation: confettiFall linear forwards; border-radius: 2px; }
  @keyframes confettiFall {
    0%   { transform: translateY(0) rotateZ(0deg); opacity: 1; }
    100% { transform: translateY(110vh) rotateZ(720deg); opacity: 0; }
  }

  /* Popup */
  .result-popup {
    position: fixed; inset: 0; background: rgba(0,0,0,0.7);
    display: flex; align-items: center; justify-content: center;
    z-index: 100; opacity: 0; pointer-events: none;
    transition: opacity 0.4s; backdrop-filter: blur(4px); padding: 1rem;
  }
  .result-popup.show { opacity: 1; pointer-events: all; }
  .result-card {
    background: linear-gradient(145deg, var(--red-deep), #7B1A10);
    border-radius: 20px; padding: 2rem;
    text-align: center; border: 3px solid var(--gold);
    box-shadow: 0 30px 80px rgba(0,0,0,0.6);
    max-width: 360px; width: 100%;
    transform: scale(0.8); transition: transform 0.4s cubic-bezier(0.34,1.56,0.64,1);
  }
  .result-popup.show .result-card { transform: scale(1); }
  .result-card .big-emoji { font-size: 3.5rem; display: block; margin-bottom: 0.5rem; }
  .result-card h2 { font-family: 'Playfair Display', serif; font-size: 1.4rem; color: var(--gold); font-weight: 900; margin-bottom: 0.5rem; }
  .result-card .amount-display {
    font-family: 'Playfair Display', serif; font-size: 2.2rem;
    color: var(--gold-light); font-weight: 900;
    text-shadow: 0 0 20px rgba(244,196,48,0.5); line-height: 1;
  }
  /* ·∫¢NH TI·ªÄN trong popup */
  .result-money-img {
    width: 100%; border-radius: 8px;
    margin: 0.8rem 0;
    box-shadow: 0 4px 20px rgba(0,0,0,0.4);
  }
  .result-card .msg-display {
    color: rgba(255,248,231,0.75); font-size: 0.88rem;
    font-style: italic; margin-top: 0.4rem;
  }
  .result-card .close-btn {
    margin-top: 1.2rem;
    background: linear-gradient(135deg, var(--gold), var(--gold-dark));
    color: var(--red-deep); border: none; border-radius: 10px;
    padding: 0.7rem 2rem; font-family: 'Be Vietnam Pro', sans-serif;
    font-weight: 700; font-size: 0.9rem; cursor: pointer; transition: transform 0.2s;
  }
  .result-card .close-btn:hover { transform: scale(1.05); }
</style>
</head>
<body>

<div class="particles" id="particles"></div>
<div class="confetti-wrap" id="confettiWrap"></div>

<!-- ‚îÄ‚îÄ Popup k·∫øt qu·∫£ ‚îÄ‚îÄ -->
<div class="result-popup" id="resultPopup">
  <div class="result-card">
    <span class="big-emoji">üéä</span>
    <h2>Ch√∫c M·ª´ng NƒÉm M·ªõi!</h2>
    <div class="amount-display" id="resultAmount">500.000 ‚Ç´</div>
    <img class="result-money-img" id="resultMoneyImg" src="THAY_LINK_ANH_VAO_DAY.jpg" alt="T·ªù ti·ªÅn l√¨ x√¨"/>
    <div class="msg-display" id="resultMsg"></div>
    <button class="close-btn" onclick="closeResult()">‚ú® C·∫£m ∆°n!</button>
  </div>
</div>

<!-- ‚îÄ‚îÄ App ‚îÄ‚îÄ -->
<div class="app">
  <div class="header">
    <h1>üßß L√¨ X√¨ T·∫øt</h1>
    <p>B√≠nh Ng·ªç 2026 ¬∑ CH√öC AN KHANG TH·ªäNH V∆Ø·ª¢NG</p>
  </div>

  <div class="envelope-wrap" onclick="openEnvelope()">
    <div class="envelope" id="envelope">

      <div class="flap">
        <svg viewBox="0 0 240 150" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
          <polygon points="0,0 240,0 240,150 120,80 0,150" fill="#B03026"/>
          <polygon points="0,0 240,0 120,80" fill="#C0392B"/>
          <line x1="0" y1="0" x2="120" y2="80" stroke="#F4C430" stroke-width="1.5" opacity="0.6"/>
          <line x1="240" y1="0" x2="120" y2="80" stroke="#F4C430" stroke-width="1.5" opacity="0.6"/>
        </svg>
      </div>

      <div class="envelope-body">
        <div class="envelope-pattern"></div>
        <div class="envelope-deco">
          <div class="deco-text">PH√öC ¬∑ L·ªòC ¬∑ TH·ªå</div>
        </div>

        <div class="money-card" id="moneyCard">
          <img id="banknoteImg"
            src="https://en.numista.com/catalogue/photos/viet_nam/65ca1a3c37c767.33491922-original.jpg"
            alt="T·ªù ti·ªÅn l√¨ x√¨"
          />
        </div>

      </div>
    </div>
  </div>

  <!-- B·∫£ng ƒëi·ªÅu khi·ªÉn -->
  <div class="panel" style="display: none;">
    <div class="panel-title">‚öô T√πy ch·ªânh l√¨ x√¨</div>

    <div class="currency-section">
      <div class="amount-label" style="margin-bottom:0.4rem">ƒê∆°n v·ªã ti·ªÅn t·ªá</div>
      <div class="select-row">
        <div class="currency-chip active" onclick="setCurrency('VND','‚Ç´','500000',this)">üáªüá≥ VND</div>
        <div class="currency-chip" onclick="setCurrency('USD','$','10',this)">üá∫üá∏ USD</div>
        <div class="currency-chip" onclick="setCurrency('EUR','‚Ç¨','10',this)">üá™üá∫ EUR</div>
        <div class="currency-chip" onclick="setCurrency('JPY','¬•','1500',this)">üáØüáµ JPY</div>
        <div class="currency-chip" onclick="setCurrency('KRW','‚Ç©','15000',this)">üá∞üá∑ KRW</div>
      </div>
    </div>

    <div class="amount-section">
      <div class="amount-label">S·ªë ti·ªÅn l√¨ x√¨</div>
      <div class="amount-row">
        <span class="currency-symbol" id="symDisplay">‚Ç´</span>
        <input class="amount-input" id="amountInput" type="number" value="500000" min="0" oninput="updatePreview()"/>
      </div>
      <div class="quick-amounts" id="quickAmounts"></div>
    </div>

    <div class="message-section">
      <div class="amount-label" style="margin-bottom:0.4rem">L·ªùi ch√∫c (t√πy ch·ªçn)</div>
      <textarea id="msgInput" placeholder="Ch√∫c m·ª´ng nƒÉm m·ªõi, s·ª©c kh·ªèe d·ªìi d√†o, v·∫°n s·ª± nh∆∞ √Ω..."></textarea>
    </div>

    <div class="actions">
      <button class="btn-open" onclick="openEnvelope()">üßß M·ªü l√¨ x√¨!</button>
      <button class="btn-reset" onclick="resetEnvelope()">‚Ü© ƒê·∫∑t l·∫°i</button>
    </div>
  </div>
</div>

<script>
let currency = { code: 'VND', sym: '‚Ç´' };
let isOpen = false;

const quickAmountsMap = {
  VND: [50000, 100000, 200000, 500000, 1000000],
  USD: [5, 10, 20, 50, 100],
  EUR: [5, 10, 20, 50, 100],
  JPY: [500, 1000, 2000, 5000, 10000],
  KRW: [5000, 10000, 20000, 50000, 100000],
};

function formatMoney(val) {
  const n = parseFloat(val) || 0;
  if (['VND','JPY','KRW'].includes(currency.code)) {
    return n.toLocaleString('vi-VN') + ' ' + currency.sym;
  }
  return currency.sym + n.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 2 });
}

function setCurrency(code, sym, defaultVal, el) {
  currency = { code, sym };
  document.getElementById('symDisplay').textContent = sym;
  document.getElementById('amountInput').value = defaultVal;
  document.querySelectorAll('.currency-chip').forEach(c => c.classList.remove('active'));
  el.classList.add('active');
  renderQuickAmounts();
  updatePreview();
}

function renderQuickAmounts() {
  const wrap = document.getElementById('quickAmounts');
  const amounts = quickAmountsMap[currency.code] || [];
  const cur = parseInt(document.getElementById('amountInput').value);
  wrap.innerHTML = amounts.map(a =>
    `<button class="quick-btn${a === cur ? ' active' : ''}" onclick="setAmount(${a})">${formatMoney(a)}</button>`
  ).join('');
}

function setAmount(val) {
  document.getElementById('amountInput').value = val;
  updatePreview();
}

function updatePreview() {
  const val = document.getElementById('amountInput').value;
  document.getElementById('resultAmount').textContent = formatMoney(val);
  renderQuickAmounts();
}

function openEnvelope() {
  if (isOpen) { resetEnvelope(); return; }
  isOpen = true;
  document.getElementById('envelope').classList.add('open');
  document.getElementById('moneyCard').classList.add('visible');

  setTimeout(() => {
    updatePreview();
    const msg = document.getElementById('msgInput').value.trim();
    document.getElementById('resultMsg').textContent = msg || 'üå∏ Ch√∫c c√¥ng ch√∫a nƒÉm m·ªõi ng√†y c√†ng xinh ƒë·∫πp, nhi·ªÅu s·ª©c kh·ªèe v√† ni·ªÅm vui! Mong r·∫±ng nƒÉm m·ªõi m·ªëi quan h·ªá c·ªßa ch√∫ng ta s·∫Ω ph√°t tri·ªÉn r·ª±c r·ª° h∆°n ‚ù§Ô∏è';
    // ƒê·ªìng b·ªô ·∫£nh ti·ªÅn v√†o popup
    document.getElementById('resultMoneyImg').src = document.getElementById('banknoteImg').src;
    document.getElementById('resultPopup').classList.add('show');
    spawnConfetti();
  }, 700);
}

function resetEnvelope() {
  isOpen = false;
  document.getElementById('envelope').classList.remove('open');
  document.getElementById('moneyCard').classList.remove('visible');
  document.getElementById('resultPopup').classList.remove('show');
}

function closeResult() {
  document.getElementById('resultPopup').classList.remove('show');
}

function spawnConfetti() {
  const wrap = document.getElementById('confettiWrap');
  wrap.innerHTML = '';
  const colors = ['#F4C430','#E74C3C','#2ECC71','#3498DB','#FF69B4','#FFE066','#FF6B6B','#FFA07A'];
  for (let i = 0; i < 90; i++) {
    const el = document.createElement('div');
    el.className = 'confetti-piece';
    el.style.left = Math.random() * 100 + 'vw';
    el.style.background = colors[Math.floor(Math.random() * colors.length)];
    el.style.width  = (6 + Math.random() * 8) + 'px';
    el.style.height = (6 + Math.random() * 8) + 'px';
    el.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
    el.style.animationDuration = (1.5 + Math.random() * 2) + 's';
    el.style.animationDelay   = (Math.random() * 0.8) + 's';
    wrap.appendChild(el);
  }
  setTimeout(() => { wrap.innerHTML = ''; }, 4000);
}

function spawnParticles() {
  const emojis = ['üå∏','‚≠ê','‚ú®','üéã','üèÆ','üå∫','üí´','üçä'];
  const wrap = document.getElementById('particles');
  setInterval(() => {
    const el = document.createElement('div');
    el.className = 'particle';
    el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
    el.style.left = Math.random() * 100 + 'vw';
    el.style.fontSize = (0.8 + Math.random() * 1.2) + 'rem';
    el.style.animationDuration = (8 + Math.random() * 10) + 's';
    wrap.appendChild(el);
    setTimeout(() => el.remove(), 20000);
  }, 600);
}

renderQuickAmounts();
spawnParticles();
</script>
</body>
</html>
